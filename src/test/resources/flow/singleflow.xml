<?xml version="1.0" encoding="UTF-8"?>
<flow id="singleflow1">
    <start id="start" toNodeId="feerule"/>
    <ruleset id="feerule" fromNodeId="start" toNodeId="split1" external="true"/>
    <split id="split1" fromNodeId="feerule">
        <constraint toNodeId="card">
            <condition><![CDATA[fee>1]]></condition>
        </constraint>
        <constraint toNodeId="end">
            <condition><![CDATA[fee<=1]]></condition>
        </constraint>
    </split>
    <ruleset id="card" fromNodeId="split1" toNodeId="p1" external="true"/>
    <rule id="p1" fromNodeId="card" toNodeId="p2">
        <condition><![CDATA[1==1]]></condition>
        <action><![CDATA[rule1="p1"]]></action>
    </rule>
    <rule id="p2" fromNodeId="p1" toNodeId="p3">
        <condition><![CDATA[2==2]]></condition>
        <action><![CDATA[rule2="p2"]]></action>
    </rule>
    <rule id="p3" fromNodeId="p2" toNodeId="p4">
        <condition><![CDATA[1==1]]></condition>
        <action><![CDATA[rule3="p3"]]></action>
    </rule>
    <rule id="p4" fromNodeId="p3" toNodeId="p5">
        <condition><![CDATA[2==2]]></condition>
        <action><![CDATA[rule4="p4"]]></action>
    </rule>
    
    <rule id="p5" fromNodeId="p4" toNodeId="end">
        <condition><![CDATA[2==2]]></condition>
        <action>
        <![CDATA[
			a = 10;
			b = (a = a * 2) + 10;
			return a;
        ]]></action>
    </rule>
    <end id="end"/>
</flow>